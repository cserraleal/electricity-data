<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generación Energética en Guatemala</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        h2 { display: none; } /* Hides the heading */
        .legend-container {
            text-align: center;
            font-family: Arial, sans-serif;
            font-size: 14px;
            margin-bottom: 10px; /* Space between legend and graph */
        }
    </style>
</head>
<body>

    <!-- Custom Legend Positioned Above the Graph -->
    <div class="legend-container" id="custom-legend"></div>

    <div id="chart" style="width: 100%; height: 600px;"></div>

    <script>
        var data = [
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: [183, 238, 1075, 970, 1075, 1184, 1057, 1103, 1973, 2190, 2381, 2444, 3059, 3328, 3131, 3162, 2820, 3458, 2748, 3871, 2045, 2075, 1876, 1346, 1304, 1525, 1045, 438, 1201, 1635, 1378, 754, 1853],
        mode: 'lines+markers',
        name: 'Petróleo'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: [174, 202, 222, 225, 236, 272, 271, 321, 333, 352, 412, 520, 619, 582, 660, 717, 777, 876, 862, 1114, 1558, 1494, 1713, 2130, 2298, 2338, 2665, 2508, 2626, 2765, 2773, 3845, 3487],
        mode: 'lines+markers',
        name: 'Biofuels'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: [1718, 1718, 1447, 1538, 1634, 1899, 1871, 1843, 2149, 2595, 2514, 2277, 2122, 2187, 2565, 2939, 3303, 3031, 3675, 2942, 3849, 4174, 4508, 4695, 4889, 3911, 4032, 5864, 5311, 4469, 5778, 6661, 5805],
        mode: 'lines+markers',
        name: 'Hidroeléctrica'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: ['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 1, 8, 202, 222, 150, 220, 219, 166, 163, 263, 294, 387, 271, 246, 258, 223, 259, 264, 339, 300, 297, 311, 325, 315, 335],
        mode: 'lines+markers',
        name: 'Geotermica'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: ['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 38, 539, 919, 1022, 968, 1116, 1065, 1103, 1129, 1139, 733, 1170, 1194, 1395, 2086, 2335, 3384, 3960, 3431, 4162, 4063, 2623, 3343, 1274],
        mode: 'lines+markers',
        name: 'Carbon'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: ['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 7, 150, 193, 198, 204, 231, 218, 227, 217],
        mode: 'lines+markers',
        name: 'Solar'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: ['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 107, 215, 218, 319, 330, 312, 323, 313],
        mode: 'lines+markers',
        name: 'Eólica'
    },
            {
        x: [1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022],
        y: ['null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 'null', 5, 13, 9],
        mode: 'lines+markers',
        name: 'Gas Natural'
    }
        ];

        var layout = {
            title: '',
            xaxis: { title: 'Año' },
            yaxis: { title: 'Generación Ele. (GWh)' },
            showlegend: false // Hide Plotly's default legend
        };

        Plotly.newPlot('chart', data, layout).then(function(gd) {
            var legendHTML = '';
            data.forEach(function(trace, index) {
                legendHTML += `<span style="margin-right: 15px; font-weight: bold; color: ${Plotly.d3.schemeCategory10[index]};">
                                  <span style="display: inline-block; width: 12px; height: 12px; background-color: ${Plotly.d3.schemeCategory10[index]};"></span>
                                  ${trace.name}
                               </span>`;
            });
            document.getElementById('custom-legend').innerHTML = legendHTML;
        });
    </script>

</body>
</html>

